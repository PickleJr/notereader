webpackJsonp([0],{119:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=s(a(0)),r=(s(a(11)),s(a(120))),i=s(a(36)),l=s(a(123));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={addNoteValue:"",notes:[],loading:!1},a.showDownloadMSG=!0,a.showDownloatCounter=1,a.handleAddNoteChange=a.handleAddNoteChange.bind(a),a.clearAddNote=a.clearAddNote.bind(a),a.addNote=a.addNote.bind(a),a.removeNote=a.removeNote.bind(a),a.removeNote=a.removeNote.bind(a),a.readFile=a.readFile.bind(a),a.downloadFile=a.downloadFile.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"handleAddNoteChange",value:function(e){this.setState({addNoteValue:e.target.value})}},{key:"clearAddNote",value:function(e){this.setState({addNoteValue:""})}},{key:"addNote",value:function(e){var t=this,a=this.state;a.notes.push(this.state.addNoteValue),a.addNoteValue="",this.setState(a),Materialize.toast("New note was added!",1e3,"rounded"),this.showDownloadMSG&&(Materialize.toast("Don't forget to download your notes for later!",5e3,"rounded",function(){t.showDownloadMSG=!1}),Materialize.toast("If you do, they'll be gone forever!",5e3,"rounded",function(){t.showDownloadMSG=!1}),this.showDownloatCounter++>3&&(this.showDownloadMSG=!1))}},{key:"removeNote",value:function(e){this.setState({notes:this.state.notes.filter(function(t){return t!==e})})}},{key:"readFile",value:function(e){this.setState({loading:!0});var t=new FileReader,a=e.target.files[0];if(a.name.match(/\.nrn$/)){var n=this,o=this.state;o.loading=!1,t.onload=function(e){try{var a=JSON.parse(t.result);if(!a.every(function(e){return"string"==typeof e}))throw"File contains modified values, not everything is a string.";o.notes=o.notes.concat(a)}catch(e){alert("Problem reading file.\n"+e)}finally{n.setState(o)}},t.readAsText(a)}else alert("File type is unreadable");e.target.value=null}},{key:"downloadFile",value:function(e){this.showDownloadMSG=!1;var t=new Blob([JSON.stringify(this.state.notes)],{type:"text/plain;charset=utf-8"});r.default.saveAs(t,"notes.nrn")}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col m8 offset-m2 s12"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-content"},o.default.createElement("span",{className:"card-title"},"Add Note"),o.default.createElement("div",{className:"input-field"},o.default.createElement("textarea",{className:"materialize-textarea",id:"add_note",value:this.state.addNoteValue,onChange:this.handleAddNoteChange,"data-length":"5000"}),o.default.createElement("label",{htmlFor:"add_note"},"Note"))),o.default.createElement("div",{className:"card-action"},o.default.createElement("a",{className:"hover",onClick:this.addNote},"Add Note"),o.default.createElement("a",{className:"hover",onClick:this.clearAddNote},"Clear"))))),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},o.default.createElement("h2",null,"Your Notes"),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"btn green btn-spacing"},o.default.createElement("input",{type:"file",onChange:this.readFile,name:"upload",id:"upload",className:"upload_file"}),o.default.createElement("label",{htmlFor:"upload",className:"white-text"},"Upload Previous Notes")),o.default.createElement("a",{className:"btn purple btn-spacing",onClick:this.downloadFile},"Download Notes for Later")),this.state.loading?o.default.createElement(i.default,null):this.state.notes.map(function(t,a){return o.default.createElement(l.default,{deleteFunction:function(){e.removeNote(t)},key:a,index:a,note:t})})))))}}]),t}();t.default=c},120:function(e,t,a){var n,o=o||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},a=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in a,o=/constructor/i.test(e.HTMLElement)||e.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},s=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,d,u){u||(c=s(c));var f,p=this,h="application/octet-stream"===c.type,m=function(){!function(e,t,a){for(var n=(t=[].concat(t)).length;n--;){var o=e["on"+t[n]];if("function"==typeof o)try{o.call(e,a||e)}catch(e){i(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return f=t().createObjectURL(c),void setTimeout(function(){var e,t;a.href=f,a.download=d,e=a,t=new MouseEvent("click"),e.dispatchEvent(t),m(),l(f),p.readyState=p.DONE});!function(){if((r||h&&o)&&e.FileReader){var a=new FileReader;return a.onloadend=function(){var t=r?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,m()},a.readAsDataURL(c),void(p.readyState=p.INIT)}f||(f=t().createObjectURL(c)),h?e.location.href=f:e.open(f,"_blank")||(e.location.href=f);p.readyState=p.DONE,m(),l(f)}()},d=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,a){return t=t||e.name||"download",a||(e=s(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,a){return new c(e,t||e.name||"download",a)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=o:null!==a(121)&&null!==a(122)&&(void 0===(n=function(){return o}.call(t,a,t,e))||(e.exports=n))},121:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},122:function(e,t){(function(t){e.exports=t}).call(t,{})},123:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a(0));r(a(11)),a(37),r(a(36));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={voice:"voice=en-US_MichaelVoice"},a.apiurl="https://watson-api-explorer.mybluemix.net/text-to-speech/api/v1/synthesize?accept=audio%2Fmp3&",a.apitext="&text="+encodeURI(a.props.note),a.changeVoice=a.changeVoice.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"changeVoice",value:function(e){this.setState({voice:e.target.value});var t=document.getElementById("audio"+this.props.index);document.getElementById("audioSource"+this.props.index).src=e.target.value,t.load()}},{key:"render",value:function(){return o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-content"},o.default.createElement("span",{className:"card-title"},this.props.note.length>10?this.props.note.substring(0,9)+"...":this.props.note),o.default.createElement("audio",{controls:!0,id:"audio"+this.props.index},o.default.createElement("source",{id:"audioSource"+this.props.index,src:this.apiurl+this.state.voice+this.apitext}),"Your browser does not support audio."),o.default.createElement("div",{className:"row"},o.default.createElement("label",null,"Voice"),o.default.createElement("select",{value:this.state.voice,onChange:this.changeVoice,className:"browser-default"},o.default.createElement("option",{value:"voice=en-US_MichaelVoice"},"Michael"),o.default.createElement("option",{value:"voice=en-US_LisaVoice"},"Lisa"),o.default.createElement("option",{value:"voice=en-US_AllisonVoice"},"Allison"),o.default.createElement("option",{value:"voice=en-GB_KateVoice"},"Kate"))),o.default.createElement("p",{className:"flow-text"},this.props.note)),o.default.createElement("div",{className:"card-action"},o.default.createElement("a",{href:this.apiurl+this.state.voice+this.apitext,download:"Note"+this.props.index+".mp3",className:"btn blue btn-spacing"},"Download MP3"),o.default.createElement("a",{onClick:this.props.deleteFunction,className:"btn red btn-spacing"},"Delete")))))}}]),t}();t.default=i}});